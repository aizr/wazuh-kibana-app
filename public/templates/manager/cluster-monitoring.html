<md-content flex ng-controller="clusterController" layout="column" ng-if="submenuNavItem == 'monitoring'" ng-init="lookingNode=false">
    <div layout="column" layout-align="start stretch">
        <div layout="row" layout-align="start stretch" ng-show="!lookingNode">
            <md-card flex>
                <md-card-title>
                    <md-card-title-text>
                        <span class="md-headline">
                            <a ng-click="lookingNode=false">{{ currentAPI }}</a> /
                            <a ng-click="lookingNode=false">nodes</a> /</span>

                    </md-card-title-text>
                </md-card-title>
                <md-card-content>

                    <div layout="row" class="ownNavBarCluster">
                        <div flex>
                            <h4>Node</h4>
                        </div>
                        <div flex>
                            <h4>Status</h4>
                        </div>
                        <div flex>
                            <h4>Agents</h4>
                        </div>
                        <div flex>
                            <h4>Url</h4>
                        </div>
                    </div>
                    <md-divider></md-divider>
                    <div layout="row" class="ownNavBarCluster" ng-repeat="item in dataShownHeader.items">
                        <div flex>
                            <a ng-if="item.node !== 'unknown'" ng-click="switchNode(item)"><i class="fa fa-eye"></i> {{item.node}}</a>
                            <span ng-if="item.node === 'unknown'">---</span>
                        </div>
                        <div flex>
                            <i ng-class="(item.status === 'connected') ? 'fa fa-circle ownGreen' : 'fa fa-circle ownRed'"></i> {{(item.status === 'connected')? ' connected' : ' disconnected'}}
                        </div>
                        <div flex>{{item.agents}}</div>
                        <div flex>{{item.url}}</div>
                    </div>
                </md-card-content>
            </md-card>
        </div>

        <style>
            .ownRed {
                color: red;
            }

            .ownGreen {
                color: #32CD32;
            }

            .ownNavBarCluster {
                margin-left: 20px;
            }

            .clusterScrollable {
                overflow-y: scroll;
                height: 300px;
            }
        </style>

        <div layout="row" layout-align="start stretch" ng-show="lookingNode">
            <md-card flex>
                <md-card-title>
                    <md-card-title-text>
                        <span class="md-headline">
                            <a ng-click="lookingNode=false">{{ currentAPI }}</a> /
                            <a ng-click="lookingNode=false">nodes</a> / {{ selectedNode.node }}</span>
                    </md-card-title-text>
                </md-card-title>
                <md-card-content>

                    <md-nav-bar md-selected-nav-item="clusterTab">
                        <md-nav-item md-nav-click="switchClusterTab('agents-info')" name="agents-info">
                            Agents
                        </md-nav-item>
                        <md-nav-item md-nav-click="switchClusterTab('files-info')" name="files-info">
                            Files
                        </md-nav-item>
                    </md-nav-bar>

                    <div layout="row" class="ownNavBarCluster" ng-if="!loading && clusterTab==='agents-info' && dataShown.length === 0">
                        <div flex>
                            <p>
                                <i class="fa fa-meh-o"></i> This node has no agents registered yet.</p>
                        </div>
                    </div>
                    <div layout="row" class="ownNavBarCluster" ng-if="dataShown.length > 0 && clusterTab==='agents-info'">
                        <div flex>
                            <h4>Id</h4>
                        </div>
                        <div flex>
                            <h4>Name</h4>
                        </div>
                        <div flex>
                            <h4>Status</h4>
                        </div>
                         <div flex>
                            <h4>Ip</i></h4>
                        </div>

                    </div>
                    <md-divider ng-if="clusterTab==='agents-info'"></md-divider>
                    <div ng-if="!loading && clusterTab==='agents-info'" ng-class="(dataShown.length > 0) ? 'ownNavBarCluster clusterScrollable' : 'ownNavBarCluster'">
                    <div layout="row" class="ownNavBarCluster" ng-if="!loading && dataShown.length > 0 && clusterTab==='agents-info'" ng-repeat="agent in dataShown track by $index">
                        <div flex>{{agent.id}}</div>
                        <div flex>{{agent.name}}</div>
                        <div flex>
                            <i ng-class="(agent.status === 'Active') ? 'fa fa-circle ownGreen' : 'fa fa-circle ownRed'"></i> {{agent.status}}</div>
                        <div flex>{{agent.ip}}</div>
                    </div>
                    </div>
                    <div layout="row" class="ownNavBarCluster" ng-if="!loading && clusterTab==='files-info' && dataShown.length === 0">
                        <div flex>
                            <p>
                                <i class="fa fa-meh-o"></i> There are no files to show.</p>
                        </div>
                    </div>
                     <div layout="row" class="ownNavBarCluster" ng-if="dataShown.length > 0 && clusterTab==='files-info'">
                        <div flex>
                            <h4>File</h4>
                        </div>
                        <div flex>
                            <h4>Status</h4>
                        </div>
                    </div>
                    <md-divider ng-if="clusterTab==='files-info'"></md-divider>
                    <div ng-if="clusterTab==='files-info'" ng-class="(dataShown.length > 0) ? 'ownNavBarCluster clusterScrollable' : 'ownNavBarCluster'">
                        <div layout="row" class="ownNavBarCluster" ng-if="!loading && dataShown.length > 0 && clusterTab==='files-info'" ng-repeat="file in dataShown track by $index">
                            <div flex>{{file.file}}</div>
                            <div flex>
                                <i ng-class="(file.status === 'synchronized') ? 'fa fa-circle ownGreen' : 'fa fa-circle ownRed'"></i> {{file.status}}</div>
                        </div>
                    </div>
                </md-card-content>
            </md-card>
        </div>
        <div layout="row" layout-align="start stretch" ng-show="lookingNode">
            <md-card flex>
                <md-card-title>
                    <md-card-title-text>
                        <span class="md-headline">
                            <a ng-click="lookingNode=false">{{ currentAPI }}</a> /
                            <a ng-click="lookingNode=false">nodes</a> / {{ selectedNode.node }} / status /</span>
                    </md-card-title-text>
                </md-card-title>
                <md-card-content>
                    <div layout="row" class="ownNavBarCluster">
                        <div flex>
                            <h4>Running</h4>
                            <i ng-class="(status.running === 'yes') ? 'fa fa-circle ownGreen' : 'fa fa-circle ownRed'"></i>
                            <span class="md-secondary">{{status.running}}</span>
                        </div>
                        <div flex>
                            <h4>Enabled</h4>
                            <i ng-class="(status.enabled === 'yes') ? 'fa fa-circle ownGreen' : 'fa fa-circle ownRed'"></i>
                            <span class="md-secondary">{{status.enabled}}</span>
                        </div>
                    </div>
                </md-card-content>
            </md-card>
        </div>
        <div layout="row" layout-align="start stretch" ng-show="lookingNode">
            <md-card flex>
                <md-card-title>
                    <md-card-title-text>
                        <span class="md-headline">
                            <a ng-click="lookingNode=false">{{ currentAPI }}</a> /
                            <a ng-click="lookingNode=false">nodes</a> / {{ selectedNode.node }} / configuration /</span>
                    </md-card-title-text>
                </md-card-title>
                <md-card-content>

                    <div layout="row" class="ownNavBarCluster">
                        <div flex>
                            <h4>Disabled</h4>
                            <span class="md-secondary">{{config.disabled}}</span>
                        </div>
                        <div flex>
                            <h4>Hidden</h4>
                            <span class="md-secondary">{{config.hidden}}</span>
                        </div>
                        <div flex>
                            <h4>Name</h4>
                            <span class="md-secondary">{{config.name}}</span>
                        </div>
                        <div flex>
                            <h4>Interval</h4>
                            <span class="md-secondary">{{config.interval}}</span>
                        </div>
                    </div>
                    <md-divider></md-divider>
                    <div layout="row" class="ownNavBarCluster">
                        <div flex>
                            <h4>Node name</h4>
                            <span class="md-secondary">{{config.node_name}}</span>
                        </div>
                        <div flex>
                            <h4>Bind address</h4>
                            <span class="md-secondary">{{config.bind_addr}}</span>
                        </div>
                        <div flex>
                            <h4>Node type</h4>
                            <span class="md-secondary">{{config.node_type}}</span>
                        </div>
                        <div flex>
                            <h4>Port</h4>
                            <span class="md-secondary">{{config.port}}</span>
                        </div>
                    </div>
                    <md-divider></md-divider>
                    <div layout="row" class="ownNavBarCluster">
                        <div flex>
                            <h4>Nodes</h4>
                            <span class="md-secondary">{{config.nodes}}</span>
                        </div>
                    </div>
                </md-card-content>
            </md-card>
        </div>
    </div>
</md-content>